#!/bin/bash

# Define the directories or files to lint
TARGET_DIR=${1:-"."}  # Default to current directory if no argument passed

echo "Running flake8 linting on $TARGET_DIR"

# Run flake8
OUTPUT=$(flake8 $TARGET_DIR 2>&1)
STATUS=$?

# Handle exit status
if [ $STATUS -eq 0 ]; then
echo "
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡠⠴⠒⠒⠒⠦⠤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠔⠊⢉⡱⠚⠉⠀⠀⠀⠀⠀⠀⠀⠀⠈⠱⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡰⢉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠀⠀⢏⠲⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠜⠋⠀⠀⠀⠐⠀⣀⣀⣀⣀⣀⠀⠀⠀⠀⢀⡼⠀⠀⠈⠆⠸⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠐⠤⠤⢾⠗⠉⠁⠀⠀⠀⠀⠉⠙⠫⣉⡁⠀⠀⠀⣠⠂⢠⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡎⠀⠀⠀⠀⢀⣠⡎⣀⣀⢀⣀⣀⠀⠀⠀⠐⠀⠀⠹⡑⠒⠋⢀⡠⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡃⠀⠘⠛⠟⠛⣼⣿⣄⡀⠀⠀⠀⠛⠣⢤⣀⠀⠀⠀⢣⠀⠘⠃⠀⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠱⢄⠀⠀⠀⠀⡏⢩⢯⣿⣦⠀⠰⣾⣿⠷⣞⢳⡄⠀⠈⡆⠀⢀⡴⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡴⣄⠀⠀⠀⠀⠀⠂⠀⠈⢇⡀⠀⣠⠏⠻⣿⣿⠟⠀⠼⣷⣽⣷⠈⢀⣹⣆⠀⠗⠊⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠃⣼⠈⢀⣀⠤⠖⢒⡷⠀⠀⠉⢉⡏⠀⢀⣼⣅⣤⣰⡆⠙⠂⠀⠀⠸⣿⣿⣾⣶⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⠏⣰⠇⡔⠉⣠⠶⣞⣋⣀⠀⠀⠸⣼⣴⣾⣿⣿⣿⣿⣿⣆⠀⠀⣀⠀⠀⠈⣵⠿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡎⠙⣿⠀⣿⠗⠊⣭⣬⣭⣑⣲⡆⢹⠈⠀⢹⣟⣋⡛⠛⠿⣷⣤⡼⠃⠀⢰⡿⠞⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣧⠘⠙⠛⠻⢤⣾⡿⣿⡞⢿⣿⠀⠘⣧⠀⠠⠽⠿⡅⠀⠀⠀⠈⠀⠀⡾⡼⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⡇⢀⣀⣤⠤⢤⣿⡴⠁⢠⠏⠀⠀⠀⠈⣧⠀⠀⠀⠈⠀⠀⣀⣀⣴⢞⠃⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⠀⠀⠀⢾⢢⡇⠀⠙⢀⡏⠀⣀⣀⠠⣶⡏⢻⣶⡦⡄⣀⡠⠌⠀⠀⣀⡴⠛⣿⣦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢽⠈⠀⠀⢘⣿⡀⠀⢀⡟⠉⠀⠀⠀⢸⣿⣇⠀⠻⣭⢋⡥⠤⠔⠚⠉⠀⠀⣸⣿⣿⣷⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠞⢇⠀⠀⠞⠁⢁⣤⠞⠀⠀⠀⠀⠀⢸⣿⣿⣆⣀⣸⣼⡀⠀⠀⢀⣀⣠⣾⢿⣿⣿⠟⠁⠈⠒⠄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡴⠊⠁⠀⠀⠀⠀⠀⣠⠞⠁⠀⠀⠀⠀⠀⢀⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⠋⠁⠀⠀⠀⠀⠀⠈⠓⢤⡀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⣀⠤⠒⢹⡃⠀⠀⠀⠀⠀⠀⢠⠞⠁⠀⠀⠀⠀⢠⠉⣩⣿⣿⣿⡿⠛⠙⠛⣿⣿⣿⡏⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡄⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢀⡴⠊⠁⠀⠀⠀⢧⠀⠀⠀⠀⢀⡴⠋⠀⡄⠀⠀⠀⢠⠃⠈⣩⣍⠉⠁⠀⠀⠀⠀⣿⣿⡿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠜⠢⡀⠀⠀⠀⠀
⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠘⢇⡀⠀⣠⠞⠁⠀⡸⠀⠀⠀⠀⠎⠀⠀⠿⠟⠀⠀⠀⠀⠀⠀⠘⢿⣿⣿⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠄⡖⠁⠀⠀⠱⡄⠀⠀⠀
⠀⠀⣠⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢳⣰⢿⡆⠀⢰⠁⠀⠀⠀⡜⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡐⢁⠞⠀⠀⠀⠀⠀⠱⡀⠀⠀
⠀⢰⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠀⠉⡟⠁⢠⠃⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⠀⠀⠀⠀⡜⠀⡎⠀⠀⠀⠀⠀⠀⠀⢣⠀⠀
⠀⡞⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⡰⠃⠀⡜⠀⠀⠀⢀⠃⠀⢰⣶⣶⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠀⠀⠀⠀⠀⠰⠀⡸⠁⠀⠀⠀⠀⠀⠀⠀⠘⡄⠀
⢸⡁⠀⠀⠀⠀⠀⠀⠀⠀⠂⠁⠀⢀⣾⠁⠀⡸⠀⠀⠀⠀⡜⠀⠀⠀⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⣾⣦⠀⠀⠀⠀⡼⠀⠀⠀⠀⠀⠀⢀⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⢡⠀
⠈⢳⡀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠴⢉⡏⠀⢠⠃⠀⠀⠀⠰⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠁⠀⠀⠀⠀⠇⠀⠀⠀⠀⠀⠃⠸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄
⠀⠀⠙⢦⡀⠀⠀⠀⠀⠒⠉⠁⣠⠋⠀⠀⡞⠀⠀⠀⠀⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⡀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢡
⠀⠀⠀⠀⠈⠳⢤⣀⠀⠀⠀⠀⠀⠀⠀⢰⠁⠀⠀⠀⢰⠁⠀⢰⣿⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⡎⠀⠀⠀⠀⠀⠡⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘
⠀⠀⠀⠀⠀⠀⠀⠈⠙⠒⠤⠤⣀⣀⣀⡎⠀⠀⠀⠀⡜⠀⠀⠀⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢺⣿⠇⠀⠀⠀⠀⠇⠀⠀⠀⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠃⠀⠀⠀⠀⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠀⠀⠀⠀⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⠀⠀⠀⠀⢠⠁⠀⢀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⠀⠀⠀⠀⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
"
  echo "Beautiful code, no issues found"
else
echo "
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠤⠒⢒⣉⣉⠉⠁⠀⠉⢉⣉⠁⠒⠂⠤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠖⣋⠠⠔⠊⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠑⠢⠤⣉⠒⠤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠔⣉⠔⠊⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠢⣌⠑⢄⡀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠞⣡⠞⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠱⣄⠙⢦⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡴⢁⠜⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠓⣄⠳⡄⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠞⠠⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢆⠘⣆⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⢀⡎⢰⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢆⠘⣆⠀
⠀⠀⠀⠀⠀⠀⠀⠀⡜⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⡀⢸⡄
⠀⠀⠀⠀⠀⠀⠀⢰⢃⠁⠀⠀⠀⣴⠦⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣤⣶⡀⠀⠀⠀⠈⣧
⠀⠀⠀⠀⠀⠀⠀⢸⡆⠀⠀⠀⣾⠏⠀⠈⢹⣷⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣶⣟⠉⠁⠀⢻⡄⠀⠀⠃⣽
⠀⠀⠀⠀⠀⢀⣠⠞⠃⢄⣀⣾⡏⠀⠀⠀⢼⣿⣿⣿⣿⡶⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣠⣼⣾⣿⣿⣿⣿⠀⠀⠀⠀⣧⠀⠀⠠⣽
⠀⠀⠀⢀⡞⠇⠀⠀⠀⠀⠈⠉⠙⠢⢄⡀⠀⠙⠻⠿⠛⠁⠀⠉⠳⣤⡀⠀⠀⠀⠀⠀⣠⣶⠋⠁⠀⠙⠻⠿⠟⠁⠀⠀⠀⠀⡟⡆⠀⡁⣾
⠀⠀⢠⠞⠁⠀⠀⠀⠀⣀⠀⠀⠀⠀⠨⠑⣒⠢⡄⠀⠀⠀⠀⠀⢠⡽⠃⠀⠀⠀⠀⠠⣹⡍⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⣳⠁⠀⢡⣿
⠀⣰⠣⠌⠀⠀⠀⠀⠀⠈⠑⠢⢄⡀⠀⠀⣸⠁⡞⠀⠀⠀⢀⣤⠟⠁⠀⠀⠀⠀⠀⠀⠀⢝⢦⡀⠀⠀⠀⠀⠀⠀⠀⣀⡾⡱⠁⠀⡐⢢⡟
⢠⠋⢷⠀⠀⠀⠀⠀⢄⡀⠀⠀⠀⠈⠉⢩⠁⢸⠧⠴⠦⠖⠋⢁⣠⣴⣶⣶⣿⣿⣶⣶⣦⣄⠁⠩⣓⠤⠤⠴⠤⠶⡛⠍⠈⠀⠀⠀⠼⣹⠃
⣼⢸⠈⠀⠀⠀⠀⠀⠀⠈⠑⠢⢄⡀⠀⣘⣦⠟⠀⠈⠁⠀⣰⣿⡿⠟⠋⠉⠉⠉⠩⠉⡛⠿⣿⣦⡀⠈⠉⠉⠀⠀⠀⠀⠀⠀⠠⣉⢾⡇⠀
⢸⡁⠊⠀⠀⠐⠒⠒⠤⢄⡀⠀⠀⢀⠗⠀⠀⠀⠀⠀⠀⣸⡿⠋⠀⠀⠀⠀⠀⢀⠖⣩⠍⠉⠒⠋⠃⠀⠉⠁⠘⠒⢦⠀⠀⢄⠣⣼⠏⠀⠀
⠘⣦⠁⠀⠀⠀⠀⠀⠀⠀⠀⣭⣖⢢⠀⡀⠀⠀⠀⠀⣸⡟⡔⠀⠀⠀⠀⠀⠀⢸⠀⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠂⣱⢨⣌⣿⠃⠀⠀⠀
⠀⠈⠳⢄⣀⣀⣘⡱⠖⠒⠛⠁⠙⢧⣇⠔⡠⢀⠀⠀⣸⠁⠀⠀⠀⠀⠀⠀⠀⠘⢀⠌⠙⠒⠚⠋⠉⠀⠁⠀⠀⠀⠀⢢⢱⠞⠁⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠾⣄⠣⣌⠠⠁⠀⡀⠀⠀⠀⠀⠀⠀⠈⠚⢂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠆⢸⡆⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠦⣧⡑⠦⡄⠡⢌⠐⢠⠂⡐⢀⢂⠌⠉⠉⠉⠁⠈⠀⠀⠀⠀⠀⠀⡘⢠⣧⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠓⠫⠷⣌⣞⣤⣓⣌⣖⣸⣮⣤⠀⠠⠤⠤⠤⢀⡀⠀⠀⠠⢐⢠⡇⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢧⡀⠀⠀⠀⠀⠀⠀⠀⡁⢂⣽⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⡒⠄⠀⠀⠀⠠⣄⠿⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠓⠢⠴⠴⠒⠉⠀⠀⠀⠀⠀⠀⠀⠀
"
  echo "You better fix those linting errors"
  echo "$OUTPUT"
  exit 1
fi
